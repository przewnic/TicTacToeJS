(()=>{"use strict";class t{constructor(t){this.sign=t}}const s=document.getElementById("main"),e=document.createElement("div");e.classList.add("info");const n=document.createElement("p");e.appendChild(n),n.id="message";const i=document.createElement("button");i.textContent="Restart",i.addEventListener("click",(function(){d.reset()})),e.appendChild(i),s.appendChild(e);const a=document.createElement("div");a.classList.add("container"),s.appendChild(a);const r=function(t){const s=[];for(let e=0;e<9;e++){const n=document.createElement("button");n.classList.add("game-button"),n.id=`${e}`,n.addEventListener("click",u),t.appendChild(n),s.push(n)}return s}(a),o=new t("X"),h=new t("O"),l=new class{constructor(t,s){this.players=[t,s],this.board=[null,null,null,null,null,null,null,null,null],this.turn=0,this.stop=!1}play(t){null===this.board[t]&&(this.board[t]=this.players[this.turn].sign,this.change_turn())}check_win(){this.stop=!0;for(let t=0;t<3;t++){let s=3*t;if(this.board[s]===this.board[s+1]&&this.board[s]===this.board[s+2]&&null!==this.board[s])return!0;if(this.board[t]===this.board[t+3]&&this.board[t]===this.board[t+6]&&null!==this.board[t])return!0}return this.board[0]===this.board[4]&&this.board[0]===this.board[8]&&null!==this.board[0]||this.board[2]===this.board[4]&&this.board[2]===this.board[6]&&null!==this.board[2]||(this.stop=!1,!1)}check_draw(){for(let t of this.board)if(null===t)return!1;return!0}reset(){for(let t=0;t<9;t++)this.board[t]=null;this.turn=0,this.stop=!1}change_turn(){this.turn=0==this.turn?1:0}}(o,h),d=new class{constructor(t,s,e,n){this.message=s,this.resetButton=e,this.buttons=t,this.game=n,this.update()}play(t){this.game.stop||(this.game.play(t.target.id),this.update())}update(){for(let t=0;t<9;t++)this.buttons[t].textContent=this.game.board[t];this.game.check_draw()?this.message.textContent="Draw":this.game.check_win()?(this.game.change_turn(),this.message.textContent=`Won: ${this.game.players[this.game.turn].sign}`):this.message.textContent=`Next move: ${this.game.players[this.game.turn].sign}`}reset(){this.game.reset(),this.update()}}(r,n,i,l);function u(t){d.play(t)}})();